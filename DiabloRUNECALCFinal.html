<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diablo 2 Rune Word Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=MedievalSharp&display=swap');
        
        body {
            font-family: 'Cinzel', serif;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
            background-color: #0a0a0a;
            color: #ff0000;
            background-image: url('https://www.transparenttextures.com/patterns/black-paper.png');
        }
        
        .gothic-border {
            border: 2px solid #ff0000;
            position: relative;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
        }
        
        .gothic-border::before, .gothic-border::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            border: 2px solid #ff0000;
        }
        
        .gothic-border::before {
            top: -5px;
            left: -5px;
            border-right: none;
            border-bottom: none;
        }
        
        .gothic-border::after {
            bottom: -5px;
            right: -5px;
            border-left: none;
            border-top: none;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.8); }
            100% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
        }

        .rune-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .rune-img {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            border: 2px solid #ff0000;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 4px;
            transition: all 0.3s ease;
        }

        .rune-container.selected .rune-img {
            animation: pulse 0.5s ease, glow 1s infinite;
            background: linear-gradient(135deg, #002a00 0%, #005a00 100%);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
        }

        .rune-container.error .rune-img {
            animation: shake 0.5s;
            background: linear-gradient(135deg, #1a0000 0%, #3a0000 100%);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .rune-name {
            font-size: 10px;
            color: #d4af37;
            text-align: center;
        }
        
        .rune-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }
        
        .rune-btn.selected {
            background: linear-gradient(135deg, #3a2a0a 0%, #5a4a1a 100%);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.8);
        }
        
        .rune-word-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
        }
        
        .rune-word-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
        }
        
        .available {
            border-left: 5px solid #00ff00;
            background: rgba(0, 255, 0, 0.05);
        }
        
        .unavailable {
            opacity: 0.6;
            filter: grayscale(50%);
        }
        
        .rune-socket {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: #1a1a1a;
            border: 1px solid #d4af37;
            border-radius: 50%;
            margin: 0 2px;
            text-align: center;
            line-height: 30px;
        }
        
        .rune-socket.filled {
            background-color: #3a2a0a;
        }
        
        @media (max-width: 768px) {
            .rune-btn {
                width: 40px;
                height: 40px;
                font-size: 12px;
            }
            
            .rune-socket {
                width: 20px;
                height: 20px;
                line-height: 20px;
                font-size: 10px;
            }
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #ff0000;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #b59b2e;
        }
    </style>
</head>
<body class="min-h-screen p-4">
    <div class="container mx-auto max-w-6xl">
        <!-- Header -->
        <header class="text-center mb-8">
            <div class="flex justify-between items-center mb-2">
                <div>
                    <h1 class="text-4xl md:text-5xl font-bold mb-2 text-red-600 tracking-wider">
                        <i class="fas fa-scroll mr-2"></i>Diablo II Rune Word Calculator
                    </h1>
                    <p class="text-lg text-gray-300">Select the runes you possess to discover available Rune Words</p>
                </div>
                <div>
                    <input type="file" id="bgUpload" accept="image/*" class="hidden">
                    <button id="bgUploadBtn" class="px-4 py-2 bg-black hover:bg-gray-900 text-red-500 border border-red-500 rounded transition" title="Upload Background">
                        <i class="fas fa-image"></i>
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Rune Selection Panel -->
            <div class="lg:col-span-1">
                <div class="gothic-border p-6 bg-black bg-opacity-70 rounded-lg h-full">
                    <h2 class="text-2xl font-bold mb-4 border-b border-gold-500 pb-2">
                        <i class="fas fa-gem mr-2"></i>Rune Selection
                    </h2>
                    
                    <div class="mb-6">
                        <h3 class="text-xl mb-3">Your Runes:</h3>
                        <div id="selectedRunes" class="flex flex-wrap gap-2 mb-4 min-h-12">
                            <p class="text-gray-400 italic">No runes selected</p>
                        </div>
                        <button id="clearRunes" class="px-4 py-2 bg-black hover:bg-gray-900 text-red-500 border border-red-500 rounded transition">
                            <i class="fas fa-trash-alt mr-2"></i>Clear Selection
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <h3 class="text-xl mb-3">All Runes:</h3>
                        <div class="grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 gap-2">
                            <!-- Runes will be inserted here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Rune Words Display -->
            <div class="lg:col-span-2">
                <div class="gothic-border p-6 bg-black bg-opacity-70 rounded-lg h-full">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">
                            <i class="fas fa-magic mr-2"></i>Available Rune Words
                        </h2>
                        <div class="flex items-center">
                            <span id="availableCount" class="text-xl font-bold text-green-500 mr-2">0</span>
                            <span class="text-gray-300">/70</span>
                        </div>
                    </div>
                    
                    <div class="mb-4 flex gap-2">
                        <div class="relative flex-grow">
                            <input type="text" id="searchRuneWords" placeholder="Search Rune Words..." 
                                   class="w-full px-4 py-2 bg-gray-900 border border-gold-500 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gold-500">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                        </div>
                        <button id="toggleAvailable" class="px-4 py-2 bg-gray-800 hover:bg-gray-700 border border-gold-500 rounded transition flex items-center">
                            <i class="fas fa-filter mr-2"></i>Available
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto p-2" id="runeWordsContainer">
                        <!-- Rune word cards will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Player -->
    <div class="fixed bottom-0 left-0 right-0 bg-black bg-opacity-90 border-t border-red-600 p-4">
        <div class="container mx-auto flex items-center gap-4">
            <input type="file" id="audioUpload" accept="audio/*" class="hidden">
            <button id="uploadBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded transition">
                <i class="fas fa-upload mr-2"></i>Upload Audio
            </button>
            <button id="playBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded transition" disabled>
                <i class="fas fa-play"></i>
            </button>
            <button id="stopBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded transition" disabled>
                <i class="fas fa-stop"></i>
            </button>
            <div class="flex-1 flex items-center gap-2">
                <i class="fas fa-volume-down text-red-500"></i>
                <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="0.7" class="w-32">
                <i class="fas fa-volume-up text-red-500"></i>
            </div>
            <div id="nowPlaying" class="text-red-500 italic">No audio selected</div>
        </div>
        <audio id="audioPlayer"></audio>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // All Diablo 2 runes in order
            const runes = [
                'El', 'Eld', 'Tir', 'Nef', 'Eth', 'Ith', 'Tal', 'Ral', 'Ort', 'Thul',
                'Amn', 'Sol', 'Shael', 'Dol', 'Hel', 'Io', 'Lum', 'Ko', 'Fal', 'Lem',
                'Pul', 'Um', 'Mal', 'Ist', 'Gul', 'Vex', 'Ohm', 'Lo', 'Sur', 'Ber',
                'Jah', 'Cham', 'Zod'
            ];
            
            // All Diablo 2 rune words (name, runes, item types, stats)
            const runeWords = [
                { name: 'Ancient\'s Pledge', runes: ['Ral', 'Ort', 'Tal'], itemTypes: ['Shields'], stats: '+50% Enhanced Defense, Cold Resist +43%, Lightning Resist +48%, Fire Resist +48%, Poison Resist +48%, 10% Damage Taken Goes To Mana' },
                { name: 'Beast', runes: ['Ber', 'Tir', 'Um', 'Mal', 'Lum'], itemTypes: ['Axes', 'Scepters', 'Hammers'], stats: 'Level 9 Fanaticism Aura When Equipped, +40% Increased Attack Speed, +240-270% Enhanced Damage, 20% Chance of Crushing Blow, 25% Chance of Open Wounds, +3 To Werebear, +3 To Lycanthropy, Prevent Monster Heal, +25-40 To Strength, +10 To Energy, +2 To Mana After Each Kill, Level 13 Summon Grizzly (5 Charges)' },
                { name: 'Black', runes: ['Thul', 'Io', 'Nef'], itemTypes: ['Clubs', 'Hammers', 'Maces'], stats: '+120% Enhanced Damage, 40% Chance of Crushing Blow, +200 to Attack Rating, Adds 3-14 Cold Damage - Cold Duration 2 Seconds, +10 To Vitality, 15% Increased Attack Speed, Magic Damage Reduced By 2, Knockback, Level 4 Corpse Explosion (12 Charges)' },
                { name: 'Bone', runes: ['Sol', 'Um', 'Um'], itemTypes: ['Body Armor'], stats: '15% Chance To Cast level 10 Bone Armor When Struck, 15% Chance To Cast level 10 Bone Spear On Striking, +2 To Necromancer Skill Levels, +100-150 To Mana, All Resistances +30, Damage Reduced By 7' },
                { name: 'Bramble', runes: ['Ral', 'Ohm', 'Sur', 'Eth'], itemTypes: ['Body Armor'], stats: 'Level 15-21 Thorns Aura When Equipped, +50% Faster Hit Recovery, +25-50% To Poison Skill Damage, +300 Defense, Increase Maximum Mana 5%, Regenerate Mana 15%, +5% To Maximum Cold Resist, Fire Resist +30%, Poison Resist +100%, +13 Life After Each Kill, Level 13 Spirit of Barbs (33 Charges)' },
                { name: 'Brand', runes: ['Jah', 'Lo', 'Mal', 'Gul'], itemTypes: ['Missile Weapons'], stats: '35% Chance To Cast Level 14 Amplify Damage When Struck, 100% Chance To Cast Level 18 Bone Spear On Striking, Fires Explosive Arrows or Bolts, +260-340% Enhanced Damage, Ignore Target\'s Defense, 20% Bonus to Attack Rating, +280-330% Damage To Demons, 20% Deadly Strike, Prevent Monster Heal, Knockback' },
                { name: 'Breath of the Dying', runes: ['Vex', 'Hel', 'El', 'Eld', 'Zod', 'Eth'], itemTypes: ['Weapons'], stats: '50% Chance To Cast Level 20 Poison Nova When You Kill An Enemy, Indestructible, +60% Increased Attack Speed, +350-400% Enhanced Damage, +200% Damage To Undead, -25% Target Defense, +50 To Attack Rating, +50 To Attack Rating Against Undead, 7% Mana Stolen Per Hit, 12-15% Life Stolen Per Hit, Prevent Monster Heal, +30 To All Attributes, +1 To Light Radius, Requirements -20%' },
                { name: 'Call to Arms', runes: ['Amn', 'Ral', 'Mal', 'Ist', 'Ohm'], itemTypes: ['Weapons'], stats: '+1 To All Skills, +40% Increased Attack Speed, +240-290% Enhanced Damage, Adds 5-30 Fire Damage, 7% Life Stolen Per Hit, +2-6 To Battle Command, +1-6 To Battle Orders, +1-4 To Battle Cry, Prevent Monster Heal, Replenish Life +12, 30% Better Chance of Getting Magic Items' },
                { name: 'Chains of Honor', runes: ['Dol', 'Um', 'Ber', 'Ist'], itemTypes: ['Body Armor'], stats: '+2 To All Skills, +200% Damage To Demons, +100% Damage To Undead, 8% Life Stolen Per Hit, +70% Enhanced Defense, +20 To Strength, Replenish Life +7, All Resistances +65, Damage Reduced By 8%, 25% Better Chance of Getting Magic Items' },
                { name: 'Crescent Moon', runes: ['Shael', 'Um', 'Tir'], itemTypes: ['Axes', 'Swords', 'Polearms'], stats: '10% Chance To Cast Level 17 Chain Lightning On Striking, 7% Chance To Cast Level 13 Static Field On Striking, +20% Increased Attack Speed, +180-220% Enhanced Damage, Ignore Target\'s Defense, -35% To Enemy Lightning Resistance, 25% Chance of Open Wounds, +9-11 Magic Absorb, +2 To Mana After Each Kill, Level 18 Summon Spirit Wolf (30 Charges)' },
                { name: 'Death', runes: ['Hel', 'El', 'Vex', 'Ort', 'Gul'], itemTypes: ['Swords', 'Axes'], stats: 'Indestructible, 100% Chance To Cast Level 44 Chain Lightning When You Die, 25% Chance To Cast Level 18 Glacial Spike On Attack, +300-385% Enhanced Damage, 20% Bonus To Attack Rating, +50 To Attack Rating, Adds 1-50 Lightning Damage, 7% Mana Stolen Per Hit, 50% Chance of Crushing Blow, +0.5-49.5 To Strength, +1 To Light Radius, Level 22 Blood Golem (15 Charges), Requirements -20%' },
                { name: 'Delirium', runes: ['Lem', 'Ist', 'Io'], itemTypes: ['Helms'], stats: '1% Chance To Cast Level 50 Delirium When Struck, 6% Chance To Cast Level 14 Mind Blast When Struck, 14% Chance To Cast Level 13 Terror When Struck, 11% Chance To Cast Level 18 Confuse On Striking, +2 To All Skills, +261 Defense, +10 To Vitality, 50% Extra Gold From Monsters, 25% Better Chance of Getting Magic Items, Level 17 Attract (60 Charges)' },
                { name: 'Destruction', runes: ['Vex', 'Lo', 'Ber', 'Jah', 'Ko'], itemTypes: ['Polearms', 'Swords'], stats: '23% Chance To Cast Level 12 Volcano On Striking, 5% Chance To Cast Level 23 Molten Boulder On Striking, 100% Chance To Cast level 45 Meteor When You Die, 15% Chance To Cast Level 22 Nova On Attack, +350% Enhanced Damage, Ignore Target\'s Defense, Adds 100-180 Magic Damage, 7% Mana Stolen Per Hit, 20% Chance Of Crushing Blow, 20% Deadly Strike, Prevent Monster Heal, +10 To Dexterity' },
                { name: 'Doom', runes: ['Hel', 'Ohm', 'Um', 'Lo', 'Cham'], itemTypes: ['Axes', 'Polearms', 'Hammers'], stats: '5% Chance To Cast Level 18 Volcano On Striking, Level 12 Holy Freeze Aura When Equipped, +2 To All Skills, +45% Increased Attack Speed, +330-370% Enhanced Damage, -40-60% To Enemy Cold Resistance, 20% Deadly Strike, 25% Chance of Open Wounds, Prevent Monster Heal, Freezes Target +3, Requirements -20%' },
                { name: 'Dragon', runes: ['Sur', 'Lo', 'Sol'], itemTypes: ['Body Armor', 'Shields'], stats: '20% Chance To Cast Level 18 Venom When Struck, 12% Chance To Cast Level 15 Hydra On Striking, Level 14 Holy Fire Aura When Equipped, +360 Defense, +230 Defense Vs. Missile, +3-5 To All Attributes, +0.375-37.125 To Strength, +50 To Life, +5% To Maximum Lightning Resist, Damage Reduced By 7' },
                { name: 'Dream', runes: ['Io', 'Jah', 'Pul'], itemTypes: ['Helms', 'Shields'], stats: '10% Chance To Cast Level 15 Confuse When Struck, Level 15 Holy Shock Aura When Equipped, +20-30% Faster Hit Recovery, +30% Enhanced Defense, +150-220 Defense, +10 To Vitality, +50 To Life, +5-20 To All Resistances, 12-25% Better Chance of Getting Magic Items' },
                { name: 'Duress', runes: ['Shael', 'Um', 'Thul'], itemTypes: ['Body Armor'], stats: '+40% Faster Hit Recovery, +10-20% Enhanced Damage, Adds 37-133 Cold Damage, 15% Chance of Crushing Blow, 33% Chance of Open Wounds, +150-200% Enhanced Defense, -20% Slower Stamina Drain, Cold Resist +45%, Lightning Resist +15%, Fire Resist +15%, Poison Resist +15%' },
                { name: 'Edge', runes: ['Tir', 'Tal', 'Amn'], itemTypes: ['Missile Weapons'], stats: 'Level 15 Thorns Aura When Equipped, +35% Increased Attack Speed, +320-380% Damage To Demons, +280% Damage To Undead, +75 Poison Damage Over 5 Seconds, 7% Life Stolen Per Hit, Prevent Monster Heal, +5-10 To All Attributes, +2 To Mana After Each Kill, Reduces All Vendor Prices 15%' },
                { name: 'Enigma', runes: ['Jah', 'Ith', 'Ber'], itemTypes: ['Body Armor'], stats: '+2 To All Skills, +45% Faster Run/Walk, +1 To Teleport, +750-775 Defense, +0.75-74.25 To Strength, Increase Maximum Life 5%, Damage Reduced By 8%, +14 Life After Each Kill, 15% Damage Taken Goes To Mana, +1-99% Better Chance of Getting Magic Items' },
                { name: 'Enlightenment', runes: ['Pul', 'Ral', 'Sol'], itemTypes: ['Body Armor'], stats: '5% Chance To Cast Level 15 Blaze When Struck, 5% Chance To Cast level 15 Fire Ball On Attack, +2 To Sorceress Skill Levels, +1 To Warmth, +30% Enhanced Defense, Fire Resist +30%, Damage Reduced By 7' },
                { name: 'Eternity', runes: ['Amn', 'Ber', 'Ist', 'Sol', 'Sur'], itemTypes: ['Melee Weapons'], stats: 'Indestructible, +260-310% Enhanced Damage, +9 To Minimum Damage, 7% Life Stolen Per Hit, 20% Chance of Crushing Blow, Hit Blinds Target, Slows Target By 33%, Regenerate Mana 16%, Replenish Life +16, Cannot Be Frozen, 30% Better Chance of Getting Magic Items, Level 8 Revive (88 Charges)' },
                { name: 'Exile', runes: ['Vex', 'Ohm', 'Ist', 'Dol'], itemTypes: ['Paladin Shields'], stats: '15% Chance To Cast Level 5 Life Tap On Striking, Level 13-16 Defiance Aura When Equipped, +2 To Offensive Auras, +30% Faster Block Rate, Freezes Target, +220-260% Enhanced Defense, Replenish Life +7, +5% To Maximum Cold Resist, +5% To Maximum Fire Resist, 25% Better Chance of Getting Magic Items, Repairs 1 Durability in 4 Seconds' },
                { name: 'Faith', runes: ['Ohm', 'Jah', 'Lem', 'Eld'], itemTypes: ['Missile Weapons'], stats: 'Level 12-15 Fanaticism Aura When Equipped, +1-2 To All Skills, +330% Enhanced Damage, Ignore Target\'s Defense, 300% Bonus To Attack Rating, +75% Damage To Undead, +50 To Attack Rating Against Undead, +120 Fire Damage, All Resistances +15, 10% Reanimate As: Returned, 75% Extra Gold From Monsters' },
                { name: 'Famine', runes: ['Fal', 'Ohm', 'Ort', 'Jah'], itemTypes: ['Axes', 'Hammers'], stats: '+30% Increased Attack Speed, +320-370% Enhanced Damage, Ignore Target\'s Defense, Adds 180-200 Magic Damage, Adds 50-200 Fire Damage, Adds 51-250 Lightning Damage, Adds 50-200 Cold Damage, 12% Life Stolen Per Hit, Prevent Monster Heal, +10 To Strength' },
                { name: 'Fortitude', runes: ['El', 'Sol', 'Dol', 'Lo'], itemTypes: ['Weapons', 'Body Armor'], stats: '20% Chance To Cast Level 15 Chilling Armor when Struck, +25% Faster Cast Rate, +300% Enhanced Damage, +200% Enhanced Defense, +15 Defense, +X To Life (Based on Character Level), Replenish Life +7, +5% To Maximum Lightning Resist, All Resistances +25-30, Damage Reduced By 7, 12% Damage Taken Goes To Mana, +1 To Light Radius' },
                { name: 'Fury', runes: ['Jah', 'Gul', 'Eth'], itemTypes: ['Melee Weapons'], stats: '40% Chance To Cast Level 1 Taunt On Striking, +40% Increased Attack Speed, +209-319% Enhanced Damage, Ignore Target\'s Defense, -25% Target Defense, 20% Bonus To Attack Rating, 6% Life Stolen Per Hit, 33% Chance of Open Wounds, 66% Chance Of Deadly Strike, Prevent Monster Heal, +5 To Frenzy' },
                { name: 'Gloom', runes: ['Fal', 'Um', 'Pul'], itemTypes: ['Body Armor'], stats: '15% Chance To Cast Level 3 Dim Vision When Struck, +10% Faster Hit Recovery, +200-260% Enhanced Defense, +10 To Strength, All Resistances +45, Half Freeze Duration, 5% Damage Taken Goes To Mana, -3 To Light Radius' },
                { name: 'Grief', runes: ['Eth', 'Tir', 'Lo', 'Mal', 'Ral'], itemTypes: ['Swords', 'Axes'], stats: '35% Chance To Cast Level 15 Venom On Striking, +30-40% Increased Attack Speed, Damage +340-400, Ignore Target\'s Defense, -25% Target Defense, +1.875-185.625% Damage To Demons, Adds 5-30 Fire Damage, -20-25% To Enemy Poison Resistance, 20% Deadly Strike, Prevent Monster Heal, +2 To Mana After Each Kill, +10-15 Life After Each Kill' },
                { name: 'Hand of Justice', runes: ['Sur', 'Cham', 'Amn', 'Lo'], itemTypes: ['Weapons'], stats: '100% Chance To Cast Level 36 Blaze When You Level-Up, 100% Chance To Cast Level 48 Meteor When You Die, Level 16 Holy Fire Aura When Equipped, +33% Increased Attack Speed, +280-330% Enhanced Damage, Ignore Target\'s Defense, -20% To Enemy Fire Resistance, 7% Life Stolen Per Hit, 20% Deadly Strike, Hit Blinds Target, Freezes Target +3' },
                { name: 'Harmony', runes: ['Tir', 'Ith', 'Sol', 'Ko'], itemTypes: ['Missile Weapons'], stats: 'Level 10 Vigor Aura When Equipped, +200-275% Enhanced Damage, +9 To Minimum Damage, Adds 55-160 Fire Damage, Adds 55-160 Lightning Damage, Adds 55-160 Cold Damage, +2-6 To Valkyrie, +10 To Dexterity, Regenerate Mana 20%, +2 To Mana After Each Kill, +2 To Light Radius, Level 20 Revive (25 Charges)' },
                { name: 'Heart of the Oak', runes: ['Ko', 'Vex', 'Pul', 'Thul'], itemTypes: ['Staves', 'Maces'], stats: '+3 To All Skills, +40% Faster Cast Rate, +75% Damage To Demons, +100 To Attack Rating Against Demons, Adds 3-14 Cold Damage, 7% Mana Stolen Per Hit, +10 To Dexterity, Replenish Life +20, Increase Maximum Mana 15%, All Resistances +30-40, Level 4 Oak Sage (25 Charges), Level 14 Raven (60 Charges)' },
                { name: 'Holy Thunder', runes: ['Eth', 'Ral', 'Ort', 'Tal'], itemTypes: ['Scepters'], stats: '+60% Enhanced Damage, -25% Target Defense, Adds 5-30 Fire Damage, Adds 21-110 Lightning Damage, +75 Poison Damage Over 5 Seconds, +10 To Maximum Damage, Lightning Resist +60%, +5% To Maximum Lightning Resist, +3 To Holy Shock, Level 7 Chain Lightning (60 Charges)' },
                { name: 'Honor', runes: ['Amn', 'El', 'Ith', 'Tir', 'Sol'], itemTypes: ['Melee Weapons'], stats: '+160% Enhanced Damage, +9 To Minimum Damage, +9 To Maximum Damage, 25% Deadly Strike, +250 To Attack Rating, +1 To All Skills, 7% Life Stolen Per Hit, Replenish Life +10, +10 To Strength, +1 To Light Radius, +2 To Mana After Each Kill' },
                { name: 'Ice', runes: ['Amn', 'Shael', 'Jah', 'Lo'], itemTypes: ['Missile Weapons'], stats: '100% Chance To Cast Level 40 Blizzard When You Level-Up, 25% Chance To Cast Level 22 Frost Nova On Striking, Level 18 Holy Freeze Aura When Equipped, +20% Increased Attack Speed, +140-210% Enhanced Damage, Ignore Target\'s Defense, +25-30% To Cold Skill Damage, 7% Life Stolen Per Hit, -20% To Enemy Cold Resistance, 20% Deadly Strike, 3.125-309.375 Extra Gold From Monsters' },
                { name: 'Infinity', runes: ['Ber', 'Mal', 'Ber', 'Ist'], itemTypes: ['Polearms'], stats: '50% Chance To Cast Level 20 Chain Lightning When You Kill An Enemy, Level 12 Conviction Aura When Equipped, +35% Faster Run/Walk, +255-325% Enhanced Damage, -45-55% To Enemy Lightning Resistance, 40% Chance of Crushing Blow, Prevent Monster Heal, 0.5-49.5 To Vitality, 30% Better Chance of Getting Magic Items, Level 21 Cyclone Armor (30 Charges)' },
                { name: 'Insight', runes: ['Ral', 'Tir', 'Tal', 'Sol'], itemTypes: ['Polearms', 'Staves'], stats: 'Level 12-17 Meditation Aura When Equipped, +35% Faster Cast Rate, +200-260% Enhanced Damage, +9 To Minimum Damage, 180-250% Bonus To Attack Rating, Adds 5-30 Fire Damage, +75 Poison Damage Over 5 Seconds, +1-6 To Critical Strike, +5 To All Attributes, +2 To Mana After Each Kill, 23% Better Chance of Getting Magic Items' },
                { name: 'King\'s Grace', runes: ['Amn', 'Ral', 'Thul'], itemTypes: ['Swords', 'Scepters'], stats: '+100% Enhanced Damage, +150 To Attack Rating, +100% Damage To Demons, +100 To Attack Rating Against Demons, +50% Damage To Undead, +100 To Attack Rating Against Undead, Adds 5-30 Fire Damage, Adds 3-14 Cold Damage, +75 Poison Damage Over 5 Seconds, +7% Life Stolen Per Hit' },
                { name: 'Kingslayer', runes: ['Mal', 'Um', 'Gul', 'Fal'], itemTypes: ['Swords', 'Axes'], stats: '+30% Increased Attack Speed, +230-270% Enhanced Damage, -25% Target Defense, 20% Bonus To Attack Rating, 33% Chance of Crushing Blow, 50% Chance of Open Wounds, +1 To Vengeance, Prevent Monster Heal, +10 To Strength, 40% Extra Gold From Monsters' },
                { name: 'Last Wish', runes: ['Jah', 'Mal', 'Jah', 'Sur', 'Jah', 'Ber'], itemTypes: ['Swords', 'Hammers', 'Axes'], stats: '6% Chance To Cast Level 11 Fade When Struck, 10% Chance To Cast Level 18 Life Tap On Striking, 20% Chance To Cast Level 20 Charged Bolt On Attack, Level 17 Might Aura When Equipped, +330-375% Enhanced Damage, Ignore Target\'s Defense, 60-70% Chance of Crushing Blow, Prevent Monster Heal, Hit Blinds Target, 0.5-49.5% Chance of Getting Magic Items' },
                { name: 'Lawbringer', runes: ['Amn', 'Lem', 'Ko'], itemTypes: ['Swords', 'Hammers', 'Scepters'], stats: '20% Chance To Cast Level 15 Decrepify On Striking, Level 16-18 Sanctuary Aura When Equipped, -50% Target Defense, Adds 150-210 Fire Damage, Adds 130-180 Cold Damage, 7% Life Stolen Per Hit, Slain Monsters Rest In Peace, +200-250 Defense Vs. Missile, +10 To Dexterity, 75% Extra Gold From Monsters' },
                { name: 'Leaf', runes: ['Tir', 'Ral'], itemTypes: ['Staves'], stats: '+3 To Fire Skills, Adds 5-30 Fire Damage, +3 To Inferno, +3 To Warmth, +3 To Fire Bolt, +2 To Mana After Each Kill, +33% Enhanced Defense, Cold Resist +15%, +5% To Maximum Fire Resist, +2 To Light Radius' },
                { name: 'Lionheart', runes: ['Hel', 'Lum', 'Fal'], itemTypes: ['Body Armor'], stats: '+20% Enhanced Damage, +25 To Strength, +15 To Dexterity, +20 To Vitality, +10 To Energy, +50 To Life, All Resistances +30, Requirements -15%' },
                { name: 'Lore', runes: ['Ort', 'Sol'], itemTypes: ['Helms'], stats: '+1 To All Skill Levels, +10 To Energy, +2 To Mana After Each Kill, Light Radius +2, Damage Reduced By 7, All Resistances +15' },
                { name: 'Malice', runes: ['Ith', 'El', 'Eth'], itemTypes: ['Melee Weapons'], stats: '+33% Enhanced Damage, +9 To Maximum Damage, -25% Target Defense, +50 To Attack Rating, 100% Chance of Open Wounds, Prevent Monster Heal, -100 To Monster Defense Per Hit, Drain Life -5' },
                { name: 'Melody', runes: ['Shael', 'Ko', 'Nef'], itemTypes: ['Missile Weapons'], stats: '+3 To Bow and Crossbow Skills, +20% Increased Attack Speed, +50% Enhanced Damage, +300% Damage To Undead, +3 To Slow Missiles, +3 To Dodge, +3 To Critical Strike, Knockback, +10 To Dexterity' },
                { name: 'Memory', runes: ['Lum', 'Io', 'Sol', 'Eth'], itemTypes: ['Staves'], stats: '+3 To Sorceress Skill Levels, +33% Faster Cast Rate, +9 To Minimum Damage, -25% Target Defense, +3 To Energy Shield, +2 To Static Field, +50% Enhanced Defense, +10 To Vitality, +10 To Energy, Increase Maximum Mana 20%, Magic Damage Reduced By 7' },
                { name: 'Myth', runes: ['Hel', 'Amn', 'Nef'], itemTypes: ['Body Armor'], stats: '3% Chance To Cast Level 1 Howl When Struck, 10% Chance To Cast Level 1 Taunt On Striking, +2 To Barbarian Skill Levels, +30 Defense Vs. Missile, +10 To Strength, +10 To Vitality, Attacker Takes Damage of 14, Requirements -15%' },
                { name: 'Nadir', runes: ['Nef', 'Tir'], itemTypes: ['Helms'], stats: '+50% Enhanced Defense, +10 Defense, +30 Defense Vs. Missile, +5 To Strength, +2 To Mana After Each Kill, -33% Extra Gold From Monsters, -3 To Light Radius, Level 13 Cloak of Shadows (9 Charges)' },
                { name: 'Oath', runes: ['Shael', 'Pul', 'Mal', 'Lum'], itemTypes: ['Axes', 'Swords', 'Maces'], stats: 'Indestructible, 30% Chance To Cast Level 20 Bone Spirit On Striking, +50% Increased Attack Speed, +210-340% Enhanced Damage, +75% Damage To Demons, +100 To Attack Rating Against Demons, Prevent Monster Heal, +10 To Energy, +10-15 Magic Absorb, Level 16 Heart of Wolverine (20 Charges), Level 17 Iron Golem (14 Charges)' },
                { name: 'Obedience', runes: ['Hel', 'Ko', 'Thul', 'Eth', 'Fal'], itemTypes: ['Polearms'], stats: '30% Chance To Cast Level 21 Enchant When You Kill An Enemy, +40% Faster Hit Recovery, +370% Enhanced Damage, -25% Target Defense, Adds 3-14 Cold Damage, -25% To Enemy Fire Resistance, 40% Chance of Crushing Blow, +200-300 Defense, +10 To Strength, +10 To Dexterity, All Resistances +20-30, Requirements -20%' },
                { name: 'Passion', runes: ['Dol', 'Ort', 'Eld', 'Lem'], itemTypes: ['Weapons'], stats: '+25% Increased Attack Speed, +160-210% Enhanced Damage, 50-80% Bonus To Attack Rating, +75% Damage To Undead, +50 To Attack Rating Against Undead, Adds 1-50 Lightning Damage, +1 To Berserk, +1 To Zeal, Hit Blinds Target +10, Hit Causes Monster To Flee 25%, 75% Extra Gold From Monsters, Level 3 Heart of Wolverine (12 Charges)' },
                { name: 'Peace', runes: ['Shael', 'Thul', 'Amn'], itemTypes: ['Body Armor'], stats: '4% Chance To Cast Level 5 Slow Missiles When Struck, 2% Chance To Cast level 15 Valkyrie On Striking, +2 To Amazon Skill Levels, +20% Faster Hit Recovery, +2 To Critical Strike, Cold Resist +30%, Attacker Takes Damage of 14' },
                { name: 'Phoenix', runes: ['Vex', 'Vex', 'Lo', 'Jah'], itemTypes: ['Weapons', 'Shields'], stats: '100% Chance To Cast Level 40 Blaze When You Level-Up, 40% Chance To Cast Level 22 Firestorm On Striking, Level 10-15 Redemption Aura When Equipped, +350-400% Enhanced Damage, -28% To Enemy Fire Resistance, +350-400 Defense Vs. Missile, +15-21 Fire Absorb, 7% Mana Stolen Per Hit, 20% Chance of Crushing Blow, 14% Life Stolen Per Hit, +50 To Life' },
                { name: 'Pride', runes: ['Cham', 'Sur', 'Io', 'Lo'], itemTypes: ['Polearms'], stats: '25% Chance To Cast Level 17 Fire Wall When Struck, Level 16-20 Concentration Aura When Equipped, 260-300% Bonus To Attack Rating, +1-99% Damage To Demons, Adds 50-280 Lightning Damage, 20% Deadly Strike, Hit Blinds Target, Freezes Target +3, +10 To Vitality, 1.875-185.625% Extra Gold From Monsters, Level 21 Revive (25 Charges)' },
                { name: 'Principle', runes: ['Ral', 'Gul', 'Eld'], itemTypes: ['Body Armor'], stats: '100% Chance To Cast Level 5 Holy Bolt On Striking, +2 To Paladin Skill Levels, +50% Damage To Undead, +100-150 To Life, 15% Slower Stamina Drain, +5% To Maximum Poison Resist, Fire Resist +30%' },
                { name: 'Prudence', runes: ['Mal', 'Tir'], itemTypes: ['Body Armor'], stats: '+25% Faster Hit Recovery, +140-170% Enhanced Defense, All Resistances +25-35, Damage Reduced By 3, Magic Damage Reduced By 17, +2 To Mana After Each Kill, +1 To Light Radius, Repairs Durability 1 In 4 Seconds' },
                { name: 'Radiance', runes: ['Nef', 'Sol', 'Ith'], itemTypes: ['Helms'], stats: '+75% Enhanced Defense, +30 Defense Vs. Missile, +10 To Energy, +10 To Vitality, 15% Damage Taken Goes To Mana, Magic Damage Reduced By 3, +33 To Mana, Damage Reduced By 7, +5 To Light Radius' },
                { name: 'Rain', runes: ['Ort', 'Mal', 'Ith'], itemTypes: ['Body Armor'], stats: '5% Chance To Cast Level 15 Cyclone Armor When Struck, 5% Chance To Cast Level 15 Twister On Striking, +2 To Druid Skills, +100-150 To Mana, Lightning Resist +30%, Magic Damage Reduced By 7, 15% Damage Taken Goes To Mana' },
                { name: 'Rhyme', runes: ['Shael', 'Eth'], itemTypes: ['Shields'], stats: '+40% Faster Block Rate, 20% Increased Chance of Blocking, Regenerate Mana 15%, All Resistances +25, Cannot Be Frozen, 50% Extra Gold From Monsters, 25% Better Chance of Getting Magic Items' },
                { name: 'Rift', runes: ['Hel', 'Ko', 'Lem', 'Gul'], itemTypes: ['Polearms', 'Scepters'], stats: '20% Chance To Cast Level 16 Tornado On Striking, 16% Chance To Cast Level 21 Frozen Orb On Attack, 20% Bonus To Attack Rating, Adds 160-250 Magic Damage, Adds 60-180 Fire Damage, +5-10 To All Attributes, +10 To Dexterity, 38% Damage Taken Goes To Mana, 75% Extra Gold From Monsters, Level 15 Iron Maiden (40 Charges), Requirements -20%' },
                { name: 'Sanctuary', runes: ['Ko', 'Ko', 'Mal'], itemTypes: ['Shields'], stats: '+20% Faster Hit Recovery, +20% Faster Block Rate, 20% Increased Chance of Blocking, +130-160% Enhanced Defense, +250 Defense Vs. Missile, +20 To Dexterity, All Resistances +50-70, Magic Damage Reduced By 7, Level 12 Slow Missiles (60 Charges)' },
                { name: 'Silence', runes: ['Dol', 'Eld', 'Hel', 'Ist', 'Tir', 'Vex'], itemTypes: ['Weapons'], stats: '+2 To All Skills, +20% Increased Attack Speed, +20% Faster Hit Recovery, +200% Enhanced Damage, +75% Damage To Undead, +50 To Attack Rating Against Undead, 11% Mana Stolen Per Hit, Hit Blinds Target +33, Hit Causes Monster To Flee 25%, All Resistances +75, +2 To Mana After Each Kill, 30% Better Chance of Getting Magic Items, Requirements -20%' },
                { name: 'Smoke', runes: ['Nef', 'Lum'], itemTypes: ['Body Armor'], stats: '+75% Enhanced Defense, +280 Defense Vs. Missile, All Resistances +50, 20% Faster Hit Recovery, Level 6 Weaken (18 Charges), +10 To Energy, -1 To Light Radius' },
                { name: 'Spirit', runes: ['Tal', 'Thul', 'Ort', 'Amn'], itemTypes: ['Swords', 'Shields'], stats: '+2 To All Skills, +25-35% Faster Cast Rate, +55% Faster Hit Recovery, Adds 1-50 Lightning Damage, Adds 3-14 Cold Damage, +75 Poison Damage Over 5 Seconds, 7% Life Stolen Per Hit, +250 Defense Vs. Missile, +22 To Vitality, +89-112 To Mana, +3-8 Magic Absorb' },
                { name: 'Splendor', runes: ['Eth', 'Lum'], itemTypes: ['Shields'], stats: '+1 To All Skills, +10% Faster Cast Rate, +20% Faster Block Rate, +60-100% Enhanced Defense, +10 To Energy, Regenerate Mana 15%, 50% Extra Gold From Monsters, 20% Better Chance of Getting Magic Items, +3 To Light Radius, +1 To Mana After Each Kill' },
                { name: 'Stealth', runes: ['Tal', 'Eth'], itemTypes: ['Body Armor'], stats: '+25% Faster Run/Walk, +25% Faster Casting Rate, +25% Faster Hit Recovery, +6 To Dexterity, Regenerate Mana 15%, +15 Maximum Stamina, Poison Resist +30%, Magic Damage Reduced By 3' },
                { name: 'Steel', runes: ['Tir', 'El'], itemTypes: ['Swords', 'Axes', 'Maces'], stats: '+25% Increased Attack Speed, +20% Enhanced Damage, +3 To Minimum Damage, +3 To Maximum Damage, +50 To Attack Rating, 50% Chance of Open Wounds, +2 To Mana After Each Kill, +1 To Light Radius' },
                { name: 'Stone', runes: ['Shael', 'Um', 'Pul', 'Lum'], itemTypes: ['Body Armor'], stats: '+60% Faster Hit Recovery, +250-290% Enhanced Defense, +300 Defense Vs. Missile, +16 To Strength, +16 To Vitality, +10 To Energy, All Resistances +15, Level 16 Molten Boulder (80 Charges), Level 16 Clay Golem (16 Charges)' },
                { name: 'Strength', runes: ['Amn', 'Tir'], itemTypes: ['Melee Weapons'], stats: '+35% Enhanced Damage, 7% Life Stolen Per Hit, 25% Chance of Crushing Blow, +20 To Strength, +10 To Vitality, +2 To Mana After Each Kill' },
                { name: 'Treachery', runes: ['Shael', 'Thul', 'Lem'], itemTypes: ['Body Armor'], stats: '5% Chance To Cast Level 15 Fade When Struck, 25% Chance To Cast Level 15 Venom On Striking, +2 To Assassin Skills, +45% Increased Attack Speed, +20% Faster Hit Recovery, Cold Resist +30%, 50% Extra Gold From Monsters' },
                { name: 'Venom', runes: ['Tal', 'Dol', 'Mal'], itemTypes: ['Weapons'], stats: 'Ignore Target\'s Defense, +273 Poison Damage Over 6 Seconds, 7% Mana Stolen Per Hit, Prevent Monster Heal, Hit Causes Monster To Flee 25%, Level 13 Poison Nova (11 Charges), Level 15 Poison Explosion (27 Charges)' },
                { name: 'Voice of Reason', runes: ['Lem', 'Ko', 'El', 'Eld'], itemTypes: ['Swords', 'Maces'], stats: '15% Chance To Cast Level 13 Frozen Orb On Striking, 18% Chance To Cast Level 20 Ice Blast On Striking, +50 To Attack Rating, +220-350% Damage To Demons, +355-375% Damage To Undead, +50 To Attack Rating Against Undead, Adds 100-220 Cold Damage, -24% To Enemy Cold Resistance, +10 To Dexterity, Cannot Be Frozen, 75% Extra Gold From Monsters, +1 To Light Radius' },
                { name: 'Wealth', runes: ['Lem', 'Ko', 'Tir'], itemTypes: ['Body Armor'], stats: '+10 To Dexterity, +2 To Mana After Each Kill, 300% Extra Gold From Monsters, 100% Better Chance of Getting Magic Items' },
                { name: 'White', runes: ['Dol', 'Io'], itemTypes: ['Wands'], stats: '+3 To Poison And Bone Skills, +20% Faster Cast Rate, +2 To Bone Spear, +4 To Skeleton Mastery, +3 To Bone Armor, Hit Causes Monster To Flee 25%, +10 To Vitality, +13 To Mana, Magic Damage Reduced By 4' },
                { name: 'Wind', runes: ['Sur', 'El'], itemTypes: ['Melee Weapons'], stats: '10% Chance To Cast Level 9 Tornado On Striking, +20% Faster Run/Walk, +40% Increased Attack Speed, 15% Faster Hit Recovery, +120-160% Enhanced Damage, -50% Target Defense, +50 To Attack Rating, Hit Blinds Target, +1 To Light Radius, Level 13 Twister (127 Charges)' },
                { name: 'Wrath', runes: ['Pul', 'Lum', 'Ber', 'Mal'], itemTypes: ['Missile Weapons'], stats: '30% Chance To Cast Level 1 Decrepify On Striking, 5% Chance To Cast Level 10 Life Tap On Striking, +375% Damage To Demons, +100 To Attack Rating Against Demons, +250-300% Damage To Undead, Adds 85-120 Magic Damage, Adds 41-240 Lightning Damage, 20% Chance of Crushing Blow, Prevent Monster Heal, +10 To Energy, Cannot Be Frozen' },
                { name: 'Zephyr', runes: ['Ort', 'Eth'], itemTypes: ['Missile Weapons'], stats: '+33% Increased Attack Speed, +66% Enhanced Damage, +25-50 Defense, Adds 1-50 Lightning Damage, +25 Defense Vs. Missile, +25 To Dexterity' }
            ];
            
            // Selected runes array
            let selectedRunes = [];
            
            // App state
            let showOnlyAvailable = false;
            
            // Sound effects
            const sounds = {
                select: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3'),
                deselect: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-quick-jump-arcade-game-239.mp3'),
                error: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-arcade-retro-game-over-213.mp3')
            };

            // Set volume for sounds
            Object.values(sounds).forEach(sound => {
                sound.volume = 0.3;
            });

            // Initialize the app
            function init() {
                renderRuneButtons();
                renderRuneWords();
                setupEventListeners();
            }
            
            // Render all rune buttons
            function renderRuneButtons() {
                const runesContainer = document.querySelector('.grid.grid-cols-6.sm\\:grid-cols-8.md\\:grid-cols-10.gap-2');
                runesContainer.innerHTML = '';
                
                runes.forEach(rune => {
                    const runeContainer = document.createElement('div');
                    runeContainer.className = 'rune-container';
                    runeContainer.dataset.rune = rune;
                    
                    const runeImg = document.createElement('div');
                    runeImg.className = 'rune-img';
                    runeImg.textContent = rune; // This would be replaced with an actual image in production
                    
                    const runeName = document.createElement('div');
                    runeName.className = 'rune-name';
                    runeName.textContent = rune;
                    
                    runeContainer.appendChild(runeImg);
                    runeContainer.appendChild(runeName);
                    runesContainer.appendChild(runeContainer);
                });
            }
            
            // Render all rune words
            function renderRuneWords(filter = '') {
                const runeWordsContainer = document.getElementById('runeWordsContainer');
                runeWordsContainer.innerHTML = '';
                
                let availableCount = 0;
                const searchTerm = filter.toLowerCase();
                
                runeWords.forEach(runeWord => {
                    // Check if rune word matches search filter
                    if (searchTerm && !runeWord.name.toLowerCase().includes(searchTerm) && 
                        !runeWord.itemTypes.some(type => type.toLowerCase().includes(searchTerm))) {
                        return;
                    }
                    
                    // Check if all runes are available
                    const allRunesAvailable = runeWord.runes.every(rune => selectedRunes.includes(rune));
                    
                    // Skip if we're only showing available and this one isn't
                    if (showOnlyAvailable && !allRunesAvailable) {
                        return;
                    }
                    
                    if (allRunesAvailable) {
                        availableCount++;
                    }
                    
                    const runeWordCard = document.createElement('div');
                    runeWordCard.className = `rune-word-card rounded-lg p-4 border border-gold-500 ${allRunesAvailable ? 'available' : 'unavailable'}`;
                    
                    // Rune word name and item types
                    let html = `
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-xl font-bold text-gold-500">${runeWord.name}</h3>
                            <span class="text-sm bg-gray-800 px-2 py-1 rounded">${runeWord.runes.length} runes</span>
                        </div>
                        <div class="mb-3">
                            <p class="text-sm text-gray-300"><span class="font-bold">Item Types:</span> ${runeWord.itemTypes.join(', ')}</p>
                        </div>
                        <div class="mb-3 flex flex-wrap gap-1">
                    `;
                    
                    // Rune sockets
                    runeWord.runes.forEach(rune => {
                        const isAvailable = selectedRunes.includes(rune);
                        html += `
                            <div class="rune-socket ${isAvailable ? 'filled' : ''}" title="${rune}">
                                ${rune}
                            </div>
                        `;
                    });
                    
                    // Stats
                    html += `
                        </div>
                        <div class="text-sm">
                            <p class="font-bold text-gray-300 mb-1">Stats:</p>
                            <p class="text-gray-400">${runeWord.stats}</p>
                        </div>
                    `;
                    
                    runeWordCard.innerHTML = html;
                    runeWordsContainer.appendChild(runeWordCard);
                });
                
                // Update available count
                document.getElementById('availableCount').textContent = availableCount;
            }
            
            // Update selected runes display
            function updateSelectedRunesDisplay() {
                const selectedRunesContainer = document.getElementById('selectedRunes');
                
                if (selectedRunes.length === 0) {
                    selectedRunesContainer.innerHTML = '<p class="text-gray-400 italic">No runes selected</p>';
                    return;
                }
                
                selectedRunesContainer.innerHTML = '';
                selectedRunes.forEach(rune => {
                    const runeBadge = document.createElement('span');
                    runeBadge.className = 'px-3 py-1 bg-gray-800 rounded-full text-gold-500 flex items-center';
                    runeBadge.innerHTML = `
                        ${rune} 
                        <button class="ml-2 text-gray-400 hover:text-white" data-rune="${rune}">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    selectedRunesContainer.appendChild(runeBadge);
                });
            }
            
            // Setup event listeners
            function setupEventListeners() {
                // Rune selection buttons
                document.querySelectorAll('.rune-container').forEach(container => {
                    container.addEventListener('click', function() {
                        const rune = this.dataset.rune;
                        
                        // Toggle selection
                        if (selectedRunes.includes(rune)) {
                            selectedRunes = selectedRunes.filter(r => r !== rune);
                            this.classList.remove('selected');
                            sounds.deselect.play();
                        } else {
                            selectedRunes.push(rune);
                            this.classList.add('selected');
                            sounds.select.play();
                        }
                        
                        updateSelectedRunesDisplay();
                        renderRuneWords(document.getElementById('searchRuneWords').value);
                    });
                });
                
                // Remove rune from selected
                document.getElementById('selectedRunes').addEventListener('click', function(e) {
                    if (e.target.closest('button')) {
                        const rune = e.target.closest('button').dataset.rune;
                        selectedRunes = selectedRunes.filter(r => r !== rune);
                        
                        // Update button state
                        document.querySelector(`.rune-btn[data-rune="${rune}"]`).classList.remove('selected');
                        
                        updateSelectedRunesDisplay();
                        renderRuneWords(document.getElementById('searchRuneWords').value);
                    }
                });
                
                // Clear all runes
                document.getElementById('clearRunes').addEventListener('click', function() {
                    selectedRunes = [];
                    
                    // Update all buttons
                    document.querySelectorAll('.rune-container').forEach(container => {
                        container.classList.remove('selected');
                    });
                    
                    updateSelectedRunesDisplay();
                    renderRuneWords(document.getElementById('searchRuneWords').value);
                });
                
                // Search rune words
                document.getElementById('searchRuneWords').addEventListener('input', function() {
                    renderRuneWords(this.value);
                });
                
                // Toggle available filter
                document.getElementById('toggleAvailable').addEventListener('click', function() {
                    showOnlyAvailable = !showOnlyAvailable;
                    this.classList.toggle('bg-gray-800');
                    this.classList.toggle('bg-gray-700');
                    this.classList.toggle('border-gold-500');
                    this.classList.toggle('border-green-500');
                    renderRuneWords(document.getElementById('searchRuneWords').value);
                });
            }
            
            // Audio player functionality
            const audioPlayer = document.getElementById('audioPlayer');
            const uploadBtn = document.getElementById('uploadBtn');
            const playBtn = document.getElementById('playBtn');
            const stopBtn = document.getElementById('stopBtn');
            const volumeControl = document.getElementById('volumeControl');
            const nowPlaying = document.getElementById('nowPlaying');
            const audioUpload = document.getElementById('audioUpload');

            uploadBtn.addEventListener('click', () => audioUpload.click());
            
            audioUpload.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const url = URL.createObjectURL(file);
                    audioPlayer.src = url;
                    nowPlaying.textContent = file.name;
                    playBtn.disabled = false;
                    stopBtn.disabled = false;
                }
            });

            playBtn.addEventListener('click', () => {
                audioPlayer.play();
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            });

            audioPlayer.addEventListener('play', () => {
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            });

            audioPlayer.addEventListener('pause', () => {
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            });

            stopBtn.addEventListener('click', () => {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            });

            volumeControl.addEventListener('input', () => {
                audioPlayer.volume = volumeControl.value;
            });

            // Background image upload
            const bgUpload = document.getElementById('bgUpload');
            const bgUploadBtn = document.getElementById('bgUploadBtn');
	    const bgScale = document.getElementById('bgScale');
            const scaleValue = document.getElementById('scaleValue');
            
            bgUploadBtn.addEventListener('click', () => bgUpload.click());
            
            bgUpload.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        document.body.style.backgroundImage = `url(${event.target.result})`;
                        document.body.style.backgroundSize = 'cover';
                        document.body.style.backgroundAttachment = 'fixed';
                        localStorage.setItem('customBg', event.target.result);
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Load saved background if exists
            const savedBg = localStorage.getItem('customBg');
            if (savedBg) {
                document.body.style.backgroundImage = `url(${savedBg})`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundAttachment = 'fixed';
            }

            // Initialize the app
            init();
        });
    </script>
</body>
</html>